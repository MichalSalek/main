try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="112ee18a-fa20-4e24-99ea-c00977395cca",e._sentryDebugIdIdentifier="sentry-dbid-112ee18a-fa20-4e24-99ea-c00977395cca")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{57289:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/gallery",function(){return l(66535)}])},66535:(e,t,l)=>{"use strict";l.r(t),l.d(t,{__N_SSG:()=>H,default:()=>P});var n=l(37876),s=l(40359),i=l(11514),r=l(71839),a=l(69585),o=l(82777),c=l(12392),d=l(14259),u=l(41040),h=l(64603),x=l(14232),g=l(45524),y=l(33562),f=l(21324),j=l(40503),_=l(48566),p=l(15184),v=l(64221);let b=(0,x.createContext)({galleryRecords:null,setGalleryRecords:()=>void 0}),A=()=>{let{galleryRecords:e,setGalleryRecords:t}=(0,x.useContext)(b),{galleryConfig:l}=(0,h.i)(),A=(0,x.useRef)([]),k=(0,x.useRef)([]),w=(0,g.GV)(y.D),C=(0,g.jL)(),[m,E]=(0,x.useState)(!1),[S,T]=(0,x.useState)(!1),D=(0,v.t)();(0,x.useEffect)(()=>{D([{title:"FILTRY",action:()=>T(!0),icon:p.H.Filter()}])},[D]);let I=(0,x.useCallback)(()=>{T(!1)},[]),N=(0,x.useCallback)(e=>{I(),t(e)},[I,t]),R=(0,x.useCallback)(async()=>{E(!0),await (0,j.CU)({asset_traits:A.current,asset_color_traits:k.current,apply_strict_filter:w},async e=>{N(e.data)},async e=>{console.error(e)}),await (0,_.aZ)(1e3),E(!1)},[N,w]);return(0,_.Ns)(R),(0,n.jsxs)(i.A,{keepMounted:!0,fullScreen:!0,open:S,onClose:I,disableEscapeKeyDown:!0,children:[(0,n.jsx)(r.A,{sx:{justifyContent:"flex-end"},children:(0,n.jsx)(a.A,{edge:"end",color:"inherit",onClick:I,"aria-label":"close",children:p.H.Back()})}),(0,n.jsxs)(s.A,{sx:{width:"100%"},children:[(0,n.jsx)(o.A,{variant:"h3",children:"Filtry"}),(0,n.jsx)(u.g,{galleryConfig:l,valuesRef:A,traitsType:"records_traits",disableAdding:!0}),(0,n.jsx)(u.g,{galleryConfig:l,valuesRef:k,traitsType:"records_color_traits",disableAdding:!0}),(0,n.jsxs)(s.A,{flexDirection:"row",alignItems:"center",children:[(0,n.jsx)(o.A,{variant:"caption",children:"Wyszukaj dokładnie"}),(0,n.jsx)(c.A,{checked:w,onChange:e=>{C((0,f.j)(e.target.checked))}})]}),(0,n.jsx)(d.A,{onClick:R,disabled:m,children:"Wyświetl wyniki"}),(null==e?void 0:e.length)===0?(0,n.jsx)("span",{children:"Brak wynik\xf3w dla ustawionych filtr\xf3w."}):void 0]})]})};var k=l(42008),w=l(96726),C=l(8100),m=l(57798),E=l(25517),S=l(18673),T=l(28604),D=l(27272),I=l(56480),N=l(95063),R=l(9929);let G=e=>{let{el:t,index:l}=e;return(0,n.jsx)(k.A,{paddingBottom:I.M.spacing[5],children:(0,n.jsxs)(w.A,{sx:{minWidth:"100%"},variant:"elevation",children:[(0,n.jsx)(C.A,{children:(0,n.jsx)("img",{src:t.asset_url,width:"100%",height:"auto",alt:"",fetchPriority:"high",decoding:"async",loading:"lazy"})}),(0,n.jsxs)(m.A,{children:[(0,n.jsx)(o.A,{variant:"body1",sx:{color:"text.secondary"},children:"Cechy"}),(0,n.jsx)(o.A,{gutterBottom:!0,variant:"caption",component:"div",children:(0,n.jsx)(D.b,{values:t.asset_traits})}),(0,n.jsx)(o.A,{variant:"body1",sx:{color:"text.secondary"},children:"Kolorystyka"}),(0,n.jsx)(o.A,{gutterBottom:!0,variant:"caption",component:"div",children:(0,n.jsx)(D.b,{values:t.asset_color_traits})})]}),(0,n.jsx)(E.A,{})]},t.gallery_record_id)})},B=()=>{let{galleryRecords:e}=(0,x.useContext)(b),t=(0,g.GV)(R.G),[l,i]=(0,x.useState)([]),[r,a]=(0,x.useState)(!0);(0,x.useEffect)(()=>{e&&(i(e.slice(0,4)),a(!0))},[e]);let o=(0,x.useCallback)(()=>{if(!r||!e)return;let t=e.slice(l.length,4+l.length);0!==t.length&&i(e=>e.concat(t))},[e,r,l.length]),c=document.documentElement.scrollHeight,d=(0,x.useMemo)(()=>(null!=t?t:0)+document.documentElement.clientHeight,[t]);return(0,x.useEffect)(()=>{l.length===(null==e?void 0:e.length)&&a(!1)},[null==e?void 0:e.length,l.length]),(0,x.useEffect)(()=>{t&&c-1500<d&&o()},[d,c,o,t]),(0,n.jsxs)(s.A,{children:[null===e?(0,n.jsx)(N.A,{}):void 0,null==l?void 0:l.map((e,t)=>(0,n.jsx)(G,{el:e,index:t},t)),(0,n.jsx)(S.A,{in:!!t&&c-1500<(null!=t?t:0),style:{position:"sticky",left:"100%",bottom:"100px"},children:(0,n.jsx)(T.A,{color:"primary","aria-label":"Go to top",onClick:()=>scrollTo(0,0),children:p.H.Up({color:"inherit"})})})]})};var H=!0;function P(){let e=(()=>{let[e,t]=(0,x.useState)([]);return{galleryRecords:e,setGalleryRecords:t}})();return(0,n.jsx)(s.A,{children:(0,n.jsxs)(b.Provider,{value:e,children:[(0,n.jsx)(A,{}),(0,n.jsx)(B,{})]})})}}},e=>{e.O(0,[160,95,820,641,486,305,38,448,636,593,792],()=>e(e.s=57289)),_N_E=e.O()}]);