try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0c3c4af6-fb48-45e0-ba5e-5708b4b68ef2",e._sentryDebugIdIdentifier="sentry-dbid-0c3c4af6-fb48-45e0-ba5e-5708b4b68ef2")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{2649:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/admin/users",function(){return a(70067)}])},5958:(e,t,a)=>{"use strict";a.d(t,{y:()=>i});var s=a(37876),n=a(48566),l=a(14259),r=a(14232);let i=e=>{var t;let{confirmationText:a,actionText:i,actionCallback:o,passProps:c}=e,[u,d]=(0,r.useState)(!0),[p,x]=(0,r.useState)(!1),y=null!=a?a:"Na pewno?",[b,v]=(0,r.useState)(i),m=(0,r.useCallback)(async()=>{u?(d(!1),v(y),await (0,n.aZ)(2e3),d(!0),v(i)):(x(!0),await (0,n.aZ)(100),await o(),v(i),await (0,n.aZ)(150),d(!0),x(!1))},[u,i,y,o]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.A,{variant:"outlined",...c,disabled:p||(null==c?void 0:c.disabled),color:u?null!=(t=null==c?void 0:c.color)?t:"warning":"error",onClick:m,children:b})})}},27272:(e,t,a)=>{"use strict";a.d(t,{b:()=>i});var s=a(37876),n=a(42008),l=a(5820),r=a(56480);let i=e=>{var t;return(0,s.jsx)(n.A,{sx:{display:"flex",flexWrap:"wrap",gap:r.M.spacing[1],padding:r.M.spacing[1]},children:(null!=(t=e.values)?t:[]).map(e=>(0,s.jsx)(l.A,{size:"small",color:"secondary",label:e},e))})}},42485:(e,t,a)=>{"use strict";a.d(t,{V2:()=>n,W7:()=>l,hp:()=>r});var s=a(64611);let n=e=>e?s.cu[e]:"Brak",l=e=>e?s.dU[e]:"Brak",r=e=>e?s.YP[e]:"Brak"},50390:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var s=a(37876),n=a(84389);let l=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e?(0,s.jsxs)("span",{children:[n.AD[e]," PLN ",(()=>{if(!t)return(0,s.jsx)(s.Fragment,{});let a=(0,s.jsx)("strong",{children:"(popularny)"});if(e===n.xv.monthly||e===n.xv.annual)return a})()," na miesiąc."]}):(0,s.jsx)(s.Fragment,{children:"Brak"})}},70067:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ed});var s=a(37876),n=a(82777),l=a(48566),r=a(14259),i=a(40359),o=a(14232),c=a(80767),u=a(9605);let d=async(e,t,a)=>{await (0,c.m)({config:{url:u.H.USER_GET_ALL,mode:"get"},successCallback:async e=>{await t(e)},errorCallback:async e=>{await a(e)}})};var p=a(58311),x=a(45524),y=a(10960),b=a(73456),v=a(87662),m=a(39821);let g=(0,o.createContext)({appUsers:[],setAppUsers:()=>void 0,updateAppUsers:()=>void 0});var h=a(22941),j=a(5958);let f=e=>{let{user:t}=e,[a,n]=(0,o.useState)(!1);(0,o.useEffect)(()=>{n(m.U.utils.IS_ADMIN(t))},[t,t.role]);let r=(0,o.useCallback)(async e=>{n(!0),await e(),await (0,l.aZ)(400),n(!1)},[]),[i,c]=(0,o.useState)(t.is_active);(0,o.useEffect)(()=>{c(t.is_active)},[t.is_active]);let{updateAppUsers:u}=(0,o.useContext)(g),p=(0,o.useCallback)(async()=>{await (0,y.tl)({user_id:t.user_id},async e=>{u(),c(!1)},async e=>{})},[u,t.user_id]),x=(0,o.useCallback)(async()=>{await (0,y.G9)({user_id:t.user_id},async e=>{u(),c(!0)},async e=>{})},[u,t.user_id]),[b,v]=(0,o.useState)(0===t.sessions.length);(0,o.useEffect)(()=>{v(0===t.sessions.length)},[t.sessions.length]);let f=(0,o.useCallback)(async()=>{await (0,h.s)({user_id:t.user_id},async e=>{u(),v(!0),await d(void 0,async e=>{},async e=>{})},async e=>{})},[u,t.user_id]),A=(0,o.useCallback)(async()=>{(0,y.OZ)({user_id:t.user_id},async e=>{u()},async e=>{})},[u,t.user_id]),_={minWidth:"100px",height:"20px",opacity:"0.9"};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.y,{passProps:{disabled:b,color:"primary",sx:_},actionText:"Wyloguj",actionCallback:()=>r(f)}),(0,s.jsx)(j.y,{passProps:{disabled:i||a,color:"success",sx:_},actionText:"Aktywuj",actionCallback:()=>r(x)}),(0,s.jsx)(j.y,{passProps:{disabled:!i||a,color:"primary",sx:_},actionText:"Dezaktywuj",actionCallback:()=>r(p)}),(0,s.jsx)(j.y,{passProps:{disabled:a,sx:_},actionText:"Usuń 4ever",actionCallback:()=>r(A)})]})};var A=a(42008),_=a(69095),k=a(56480);let C=e=>{let{el1:t,el2:a,sx:l}=e,r=(0,o.useCallback)(e=>{e.target,e.target.select&&e.target.select()},[]);return(0,s.jsxs)(A.A,{sx:{display:"flex",alignItems:"baseline",justifyContent:"space-between",gap:3,...l},children:["string"==typeof t&&(0,s.jsx)(n.A,{sx:{flex:1,maxWidth:"80px",fontSize:k.M.fontSize[0]},children:t}),"object"==typeof t&&t,("string"==typeof a||null===a)&&(0,s.jsx)(_.A,{variant:"standard",sx:{flex:1,minWidth:"210px",my:"0","input.MuiInput-input":{padding:0}},value:null!=a?a:"–",onClick:r}),"object"==typeof a&&a]})};var w=a(42485),N=a(50390);let O=e=>{let{user:t,id:a}=e,l=(0,x.GV)(v.mi),c=(0,o.useCallback)(async()=>{await (0,y.W)({user_id:t.user_id},async e=>{},async e=>{})},[t.user_id]),[u,d]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{d(m.U.utils.IS_ADMIN(t))},[t,t.role]),(0,s.jsxs)(p.A,{id:String(a),variant:"outlined",sx:{backgroundColor:(null==l?void 0:l.email)===t.email?"rgba(3,12,64,0.15)":"transparent",margin:"3px",display:"flex",flexDirection:"column",gap:1,minWidth:"320px",width:"100%",maxWidth:"480px",justifyContent:"space-between"},children:[(0,s.jsxs)(i.A,{children:[(0,s.jsx)(C,{el2:(0,s.jsx)(r.A,{disabled:u,variant:"text",onClick:c,children:"Become"}),el1:t.is_active?(0,s.jsx)(n.A,{sx:{color:"green",fontWeight:600},children:"User aktywny"}):(0,s.jsx)(n.A,{sx:{color:"red",fontWeight:600},children:"User wyłączony"})}),t.display_name&&(0,s.jsx)(C,{el1:"Nazwa: ",el2:t.display_name}),(0,s.jsx)(C,{el1:"Email: ",el2:t.email}),(0,s.jsx)(C,{el1:"Rola: ",el2:(0,w.V2)(t.role)}),(0,s.jsx)(C,{el1:"Stan płatności: ",el2:(0,w.hp)(t.account.payment_status)}),(0,s.jsx)(C,{el1:"Stan konta: ",el2:(0,w.W7)(t.account.account_status)}),(0,s.jsx)(C,{el1:"Kiedy konto wygasa: ",el2:(0,b.W)(t.account.account_expiration_date)}),(0,s.jsx)(C,{el1:"Pricing plan: ",el2:(0,N.E)(t.account.pricing_plan)}),(0,s.jsx)(C,{el1:"Utworzono: ",el2:(0,b.W)(t.created_at)}),(0,s.jsx)(C,{el1:"Data płatności: ",el2:(0,b.W)(t.account.upcoming_payment_date)}),(0,s.jsx)(C,{el1:"Aktywne sesje: ",el2:String(t.sessions.length)})]}),(0,s.jsx)(i.A,{sx:{alignItems:"center",flexDirection:"row",flexWrap:"wrap"},children:(0,s.jsx)(f,{user:t})})]},a)};var S=a(49006),M=a(69241),I=a(13323),L=a(14770),T=a(66438),E=a(95651),U=a(63915),W=a(20370),D=a(45877),P=a(74648),z=a(43132),V=a(90599),R=a(43185),B=a(18637),H=a(14457),Y=a(21849);function F(e){return(0,Y.Ay)("MuiMenuItem",e)}let G=(0,H.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Z=(0,T.Ay)(D.A,{shouldForwardProp:e=>(0,L.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((0,E.A)(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(G.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),["&.".concat(G.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}},["&.".concat(G.selected,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},["&.".concat(G.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(G.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(V.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(V.A.inset)]:{marginLeft:52},["& .".concat(B.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(B.A.inset)]:{paddingLeft:36},["& .".concat(R.A.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,["& .".concat(R.A.root," svg")]:{fontSize:"1.25rem"}}}]}})),X=o.forwardRef(function(e,t){let a,n=(0,U.b)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:r="li",dense:i=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:d,role:p="menuitem",tabIndex:x,className:y,...b}=n,v=o.useContext(W.A),m=o.useMemo(()=>({dense:i||v.dense||!1,disableGutters:u}),[v.dense,i,u]),g=o.useRef(null);(0,P.A)(()=>{l&&g.current&&g.current.focus()},[l]);let h={...n,dense:m.dense,divider:c,disableGutters:u},j=(e=>{let{disabled:t,dense:a,divider:s,disableGutters:n,selected:l,classes:r}=e,i=(0,I.A)({root:["root",a&&"dense",t&&"disabled",!n&&"gutters",s&&"divider",l&&"selected"]},F,r);return{...r,...i}})(n),f=(0,z.A)(g,t);return n.disabled||(a=void 0!==x?x:-1),(0,s.jsx)(W.A.Provider,{value:m,children:(0,s.jsx)(Z,{ref:f,role:p,tabIndex:a,component:r,focusVisibleClassName:(0,M.A)(j.focusVisible,d),className:(0,M.A)(j.root,y),...b,ownerState:h,classes:j})})});var K=a(56486),Q=a(3291),q=a(64611);let J=()=>{let{appUsers:e}=(0,o.useContext)(g),[t,a]=(0,o.useState)(!1);return{appUsers:e,isFilterDisabled:t,setIsFilterDisabled:a,isFilterActiveCollection:(0,o.useCallback)(e=>e.length>0,[])}};var $=a(856);let ee=e=>{let{children:t,name:a}=e;return(0,s.jsxs)($.A,{children:[(0,s.jsx)(n.A,{variant:"caption",children:a}),t]})};var et=a(27272);let ea=e=>{let{callback:t}=e,{appUsers:a,isFilterDisabled:n,setIsFilterDisabled:l,isFilterActiveCollection:r}=J(),[i,c]=(0,o.useState)([]),u=(0,o.useCallback)(e=>{l(!0);let{target:{value:s}}=e,n="string"==typeof s?s.split(","):s;c(n),t(r(n)?a.filter(e=>!n.includes(e.account.payment_status)).map(e=>e.user_id):[],"payment_status"),l(!1)},[a,t,r,l]);return(0,s.jsx)(ee,{name:"Status płatności",children:(0,s.jsx)(S.A,{multiple:!0,value:i,onChange:u,slotProps:{notchedOutline:{sx:{borderColor:r(i)?k.M.statusColors[0]:void 0}}},renderValue:e=>(0,s.jsx)(et.b,{values:e}),children:Object.values(q.kr).map(e=>(0,s.jsxs)(X,{disabled:n,value:e,children:[(0,s.jsx)(K.A,{checked:i.includes(e)}),(0,s.jsx)(Q.A,{primary:(0,w.hp)(e)})]},e))})})},es=e=>{let{callback:t}=e,{appUsers:a,isFilterDisabled:n,setIsFilterDisabled:l,isFilterActiveCollection:r}=J(),[i,c]=(0,o.useState)([]),u=(0,o.useCallback)(e=>{l(!0);let{target:{value:s}}=e,n="string"==typeof s?s.split(","):s;c(n),t(r(n)?a.filter(e=>!n.includes(e.role)).map(e=>e.user_id):[],"role"),l(!1)},[a,t,r,l]);return(0,s.jsx)(ee,{name:"Rola",children:(0,s.jsx)(S.A,{multiple:!0,value:i,onChange:u,slotProps:{notchedOutline:{sx:{borderColor:r(i)?k.M.statusColors[0]:void 0}}},renderValue:e=>(0,s.jsx)(et.b,{values:e}),children:Object.values(q.Q0).map(e=>(0,s.jsxs)(X,{disabled:n,value:e,children:[(0,s.jsx)(K.A,{checked:i.includes(e)}),(0,s.jsx)(Q.A,{primary:(0,w.V2)(e)})]},e))})})},en=e=>{let{callback:t}=e,{appUsers:a,isFilterDisabled:n,setIsFilterDisabled:l,isFilterActiveCollection:r}=J(),[i,c]=(0,o.useState)([]),u=(0,o.useCallback)(e=>{l(!0);let{target:{value:s}}=e,n="string"==typeof s?s.split(","):s;c(n),t(r(n)?a.filter(e=>!n.includes(e.account.account_status)).map(e=>e.user_id):[],"account_status"),l(!1)},[a,t,r,l]);return(0,s.jsx)(ee,{name:"Status konta",children:(0,s.jsx)(S.A,{multiple:!0,value:i,onChange:u,slotProps:{notchedOutline:{sx:{borderColor:r(i)?k.M.statusColors[0]:void 0}}},renderValue:e=>(0,s.jsx)(et.b,{values:e}),children:Object.values(q.Nv).map(e=>(0,s.jsxs)(X,{disabled:n,value:e,children:[(0,s.jsx)(K.A,{checked:i.includes(e)}),(0,s.jsx)(Q.A,{primary:(0,w.W7)(e)})]},e))})})},el=Object.freeze({YES:"YES",NO:"NO"}),er=e=>{let{callback:t}=e,{appUsers:a,isFilterDisabled:n,setIsFilterDisabled:l,isFilterActiveCollection:r}=J(),[i,c]=(0,o.useState)([]),u=(0,o.useCallback)(e=>{l(!0);let{target:{value:s}}=e,n="string"==typeof s?s.split(","):s;c(n),t(r(n)?a.filter(e=>!n.includes(e.is_active?"YES":"NO")).map(e=>e.user_id):[],"is_active"),l(!1)},[a,t,r,l]);return(0,s.jsx)(ee,{name:"Czy użytkownik jest aktywny",children:(0,s.jsx)(S.A,{multiple:!0,value:i,onChange:u,slotProps:{notchedOutline:{sx:{borderColor:r(i)?k.M.statusColors[0]:void 0}}},renderValue:e=>(0,s.jsx)(et.b,{values:e}),children:Object.values(el).map(e=>(0,s.jsxs)(X,{disabled:n,value:e,children:[(0,s.jsx)(K.A,{checked:i.includes(e)}),(0,s.jsx)(Q.A,{primary:e})]},e))})})},ei=e=>{let{callback:t}=e,{appUsers:a}=J(),[n,l]=(0,o.useState)(""),r=(0,o.useCallback)(e=>{let{target:{value:s}}=e;l(s),t(""!==s?a.filter(e=>!e.email.toLowerCase().includes(s.toLowerCase())).map(e=>e.user_id):[],"email")},[a,t]);return(0,s.jsx)(ee,{name:"email",children:(0,s.jsx)(_.A,{variant:"outlined",value:n,onChange:r,sx:{".MuiOutlinedInput-notchedOutline":{borderColor:""!==n?k.M.statusColors[0]:void 0}}})})},eo=e=>{let{usersListRef:t}=e,{appUsers:a}=(0,o.useContext)(g),l=(0,o.useRef)({}),[r,c]=(0,o.useState)(null),u=(0,o.useCallback)((e,a)=>{var s,n;l.current[a]=e;let r=null!=(n=null==(s=t.current)?void 0:s.children)?n:[],i=r.length,u=i,d=Object.values(l.current).flat();(0,o.startTransition)(()=>{for(let e=0;e<r.length;e++){let t=r[e],a=Number(t.id);d.includes(a)?t.style.display="none":(u--,t.style.display="")}}),c(i-u)},[t]);return(0,s.jsxs)(i.A,{sx:{marginTop:k.M.spacing[4]},children:[(0,s.jsx)(n.A,{variant:"h3",children:"Filtruj:"}),(0,s.jsx)(er,{callback:u}),(0,s.jsx)(en,{callback:u}),(0,s.jsx)(es,{callback:u}),(0,s.jsx)(ea,{callback:u}),(0,s.jsx)(ei,{callback:u}),(0,s.jsxs)(n.A,{variant:"h3",children:["Ilość użytkownik\xf3w: ",(0,s.jsxs)(n.A,{sx:{marginBottom:k.M.spacing[2],visibility:null===r?"hidden":"visible"},color:r===a.length?void 0:"success",component:"span",variant:"h3",children:[r," / "]})," ",a.length," "]})]})};var ec=a(95063);let eu=()=>{let[e,t]=(0,o.useState)(!1),[a,n]=(0,o.useState)(!1),c=(()=>{let[e,t]=(0,o.useState)([]),a=(0,x.GV)(v.mi),s=(0,o.useCallback)(async()=>{m.U.utils.IS_ADMIN(a)&&await d(void 0,async e=>{t(e.data)},async e=>{})},[a]);return{appUsers:e,setAppUsers:t,updateAppUsers:s}})(),{appUsers:u,setAppUsers:p}=c,y=(0,o.useCallback)(async()=>{t(!0),n(!0),await d(void 0,async e=>{(0,o.startTransition)(()=>{p(e.data)})},async e=>{}),await (0,l.aZ)(300),n(!1),t(!1)},[p]);(0,l.Ns)(y);let b=(0,o.useRef)(null),h=(0,o.useMemo)(()=>0===u.length?(0,s.jsx)(ec.A,{sx:{margin:"auto"}}):u.map(e=>(0,s.jsx)(O,{id:e.user_id,user:e},e.user_id)),[u]);return(0,s.jsxs)(g.Provider,{value:c,children:[(0,s.jsx)(r.A,{variant:"outlined",loading:a,disabled:e,onClick:y,children:"Update list now"}),(0,s.jsx)(eo,{usersListRef:b}),(0,s.jsx)(i.A,{component:"ol",ref:b,sx:{flexDirection:"row",flexWrap:"wrap",gap:1},children:h})]})};function ed(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{variant:"h1",children:"Użytkownicy"}),(0,s.jsx)(eu,{})]})}},84389:(e,t,a)=>{"use strict";a.d(t,{AD:()=>l,GX:()=>i,mc:()=>o,xv:()=>r});var s=a(52653);let n=Object.freeze({FREE:10,MONTHLY_1:1,MONTHLY_2:2,MONTHLY_3:3,ANNUAL_1:4,ANNUAL_2:5,ANNUAL_3:6});(0,s.X)(n);let l=Object.freeze({[n.FREE]:0,[n.MONTHLY_1]:30,[n.MONTHLY_2]:50,[n.MONTHLY_3]:100,[n.ANNUAL_1]:24,[n.ANNUAL_2]:40,[n.ANNUAL_3]:80});Array.from(Object.entries(l).keys());let r=Object.freeze({monthly:n.MONTHLY_2,annual:n.ANNUAL_3}),i="annual",o=30}},e=>{e.O(0,[160,95,820,486,636,593,792],()=>e(e.s=2649)),_N_E=e.O()}]);