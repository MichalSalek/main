try{!function(){var e='undefined'!=typeof window?window:'undefined'!=typeof global?global:'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]='b82db7ca-b435-4283-bb6d-f941c670754c',e._sentryDebugIdIdentifier='sentry-dbid-b82db7ca-b435-4283-bb6d-f941c670754c')}()}catch(e){}'use strict';(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{27272:(e,a,s)=>{s.d(a,{b:()=>n});var l=s(37876),t=s(42008),i=s(5820),r=s(56480);let n=e=>{var a;return(0,l.jsx)(t.A,{sx:{display:'flex',flexWrap:'wrap',gap:r.M.spacing[1],padding:r.M.spacing[1]},children:(null!=(a=e.values)?a:[]).map(e=>(0,l.jsx)(i.A,{size:'small',color:'secondary',label:e},e))})}},40503:(e,a,s)=>{s.d(a,{Bq:()=>y,CU:()=>p,RQ:()=>u,cr:()=>c,dm:()=>_,yj:()=>o});var l=s(80767),t=s(9605),i=s(85522),r=s(89126),n=s(69542),d=s(44954);let o=async(e,a,s)=>{await (0,l.m)({config:{url:t.H.GET_GALLERY_CONFIG,mode:'get'},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})},c=async(e,a,s)=>{await (0,l.m)({config:{url:t.H.GALLERY_CREATE_TRAIT,mode:'post',payload:e},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})},_=async(e,a,s)=>{try{await (0,i.D)({url:(0,n.X)(d.h.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME),mode:'post',payload:e,fireOnSuccess:async e=>{a(e.data)},fireOnCatch:async e=>{(0,r.O)('uploadPhotoAsset_IO error',e),s(e)}})}catch(e){(0,r.O)('uploadPhotoAsset_IO',e)}},u=async(e,a,s)=>{await (0,l.m)({config:{url:t.H.CREATE_GALLERY_RECORD,mode:'post',payload:e},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})},p=async(e,a,s)=>{await (0,l.m)({config:{url:t.H.GET_GALLERY_RECORDS,mode:'post',payload:e},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})},y=async(e,a,s)=>{await (0,l.m)({config:{url:t.H.DELETE_ASSET_FROM_VENDOR,mode:'post',payload:e},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})}},41040:(e,a,s)=>{s.d(a,{g:()=>w});var l=s(37876),t=s(14232),i=s(69095),r=s(11514),n=s(65566),d=s(14476),o=s(60591),c=s(50090),_=s(14259),u=s(76017),p=s(70641),y=s(27272),m=s(77025),g=s(56486),h=s(82777),E=s(40503),A=s(45135),b=s(85035);let v=b.H.CheckboxUnchecked({fontSize:'large'}),C=b.H.CheckboxChecked({fontSize:'large'}),f=(0,u.Z)(),w=e=>{let{galleryConfig:a,valuesRef:s,traitsType:u,disableAdding:w=!1}=e,[N,L]=(0,t.useState)([]);(0,t.useEffect)(()=>{s.current&&(s.current=N)},[N,s]);let k=(0,t.useCallback)(e=>{N.includes(e)||L(a=>[...a,e])},[L,N]),[R,O]=(0,t.useState)(''),[V,x]=(0,t.useState)(!1),[j,T]=(0,t.useState)(!1),[S,I]=(0,t.useState)([]),D=(0,t.useCallback)(async e=>{var s,l;a&&(I(null!=(s=a[u])?s:[]),e&&e(null!=(l=a[u])?l:[]))},[a,u]);(0,t.useEffect)(()=>{D()},[D]);let U=(0,t.useCallback)(e=>S.includes(e),[S]),G=()=>{O(''),x(!1)},M=(0,t.useCallback)(e=>{x(!0),requestAnimationFrame(()=>{O(A.$.utils.normalizeStringCapitalizedWords(e))})},[]),z=async e=>{e.preventDefault(),T(!0);let a=A.$.utils.normalizeStringCapitalizedWords(R);await D(async e=>{e.includes(a)?k(a):await (0,E.cr)({trait:'records_traits'===u?a:'',color_trait:'records_color_traits'===u?a:''},async e=>{k(a),I(e=>[...e,a])},async e=>{})}),G(),T(!1)},P=(0,t.useMemo)(()=>'records_traits'===u?'Cechy stylizacji':'records_color_traits'===u?'Kolorystyka':void 0,[u]),Y=(0,t.useMemo)(()=>'records_traits'===u?'Dodaj nową cechę':'records_color_traits'===u?'Dodaj nową kolorystykę':void 0,[u]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.A,{options:S,clearOnBlur:!0,disableCloseOnSelect:!0,selectOnFocus:!0,handleHomeEndKeys:!0,multiple:!0,slotProps:{popper:{placement:'top'}},disabled:j,value:N,onChange:(e,a)=>{L(a)},onInputChange:(e,a)=>{O(a)},filterOptions:(e,a)=>{let s=f(e,a),{inputValue:l}=a,t=U(l);return''===a.inputValue||t||s.push(a.inputValue),''===a.inputValue&&s.push(''),s},renderOption:(e,a,s)=>{let{selected:t}=s,{key:i,...r}=e;return U(a)?(0,l.jsxs)(m.Ay,{...r,style:{position:'relative'},children:[(0,l.jsx)(g.A,{disabled:!0,icon:v,checkedIcon:C,style:{marginRight:8},checked:t}),a]},i):w?void 0:(0,l.jsxs)(m.Ay,{dense:!0,...r,onClick:()=>M(a),children:[(0,l.jsx)(g.A,{sx:{display:'none'},disabled:!0,icon:v,checkedIcon:C,checked:t}),b.H.AddNew({fontSize:'large',sx:{margin:'auto'}}),a]},i)},renderValue:e=>(0,l.jsx)(y.b,{values:e}),renderInput:e=>(0,l.jsx)(i.A,{...e,variant:'outlined',label:P})}),(0,l.jsxs)(r.A,{fullWidth:!0,open:V,onClose:G,disableEscapeKeyDown:!0,children:[(0,l.jsx)(n.A,{variant:'subtitle2',children:Y}),(0,l.jsxs)('form',{onSubmit:z,children:[(0,l.jsxs)(d.A,{children:[R?(0,l.jsxs)(h.A,{variant:'body1',component:'span',children:['Tak będzie wyglądała nowa cecha: ',(0,l.jsx)(y.b,{values:[A.$.utils.normalizeStringCapitalizedWords(R)]})]}):void 0,(0,l.jsx)(i.A,{autoFocus:!0,value:R,onChange:e=>O(e.target.value),type:'text',variant:'standard',name:'value'}),(0,l.jsx)(o.A,{children:'Będzie to r\xf3wnież nową kategorią w galerii.'})]}),(0,l.jsxs)(c.A,{children:[(0,l.jsx)(_.A,{variant:'outlined',onClick:G,children:'Zamknij'}),(0,l.jsx)(_.A,{disabled:!R||j,type:'submit',children:'UŻYJ'})]})]})]})]})}},45135:(e,a,s)=>{s.d(a,{$:()=>r});var l=s(64611),t=s(57448);let i=e=>Object.keys(e).every(a=>'__isValid'===a||!e[a]),r={utils:{validateEmail:e=>!!e&&!!e.match(/^([\w\d._\-#])+@([\w\d._\-#]+[.][\w\d._\-#]+)+$/),validateByMinLength:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return!!e&&e.length>=a},validateByWhiteSpaces:e=>!!e&&!e.match(/\s+/g),normalizeStringEliminateWhitespaces:e=>e?e.trim().replace(/\s+/g,'').toLowerCase():'',normalizeStringCapitalizedWords:e=>e?e.replace(RegExp('[^\\p{L}\\s\']','gu'),' ').replace(/\s+/g,' ').trim().replace(RegExp('\\b[\\p{L}\']+\\b','gu'),e=>e.replace(RegExp('(^|\')[\\p{L}]','gu'),e=>e.toLocaleUpperCase())):''},validators:{userRegister:e=>{let a={__isValid:!1,__general:'',email:'',password:''};return r.utils.validateEmail(null==e?void 0:e.email)||(a.email+='Check and enter correct email address. '),r.utils.validateByWhiteSpaces(null==e?void 0:e.email)||(a.email+='Remove spaces from email. '),r.utils.validateByMinLength(null==e?void 0:e.password,6)||(a.password+='Choose a more secure password - at least 6 characters. '),a.__isValid=i(a),a},checkEmail:e=>{let a={__isValid:!1,__general:'',email:''};return r.utils.validateEmail(null==e?void 0:e.email)||(a.email+='Check and enter correct email address. '),r.utils.validateByWhiteSpaces(null==e?void 0:e.email)||(a.email+='Remove spaces from email. '),a.__isValid=i(a),a},userCreate:e=>{let a={__isValid:!1,__general:'',email:''};return r.utils.validateEmail(null==e?void 0:e.email)||(a.email+='Check and enter correct email address. '),r.utils.validateByWhiteSpaces(null==e?void 0:e.email)||(a.email+='Remove spaces from email. '),a.__isValid=i(a),a},userLogin:e=>{let a={__isValid:!1,__general:'',email:'',password:''};return e.email||(a.email+='Enter email. '),e.password||(a.password+='Enter password. '),a.__isValid=i(a),a},deleteOrDisableSelfUser:e=>{let a={__isValid:!1,__general:'',password:''};return e.password||(a.password+='Enter password. '),a.__isValid=i(a),a},deleteOrDisableOtherUser:e=>{let a={__isValid:!1,__general:'',user_id:''};return 0===Object.keys(e).length&&(a.user_id+='No user identifier. '),a.__isValid=i(a),a},enableOtherUser:e=>{let a={__isValid:!1,__general:'',user_id:''};return 0===Object.keys(e).length&&(a.user_id+='No user identifier. '),a.__isValid=i(a),a},deleteSession:e=>{let a={__isValid:!1,__general:'',session_id:''};return e.session_id||(a.session_id+='Missing session ID. '),a.__isValid=i(a),a},accountDisplayNameChange:e=>{let a={__isValid:!1,__general:'',display_name:''};return e.display_name||(a.display_name+='Enter name. '),r.utils.validateByMinLength(null==e?void 0:e.display_name,3)||(a.display_name+='Name must be longer than 3 characters. '),a.__isValid=i(a),a},accountPaymentMake:e=>{let a={__isValid:!1,__general:'',payment_id:'',pricing_plan:''};return e.pricing_plan||(a.pricing_plan+='Enter pricing plan. '),t.E.utils.PRICING_PLAN_VALUE_TYPE_NARROWER(e.pricing_plan)||(a.pricing_plan+='Enter valid pricing plan. '),e.payment_id||(a.payment_id+='Enter payment ID. '),a.__isValid=i(a),a},eventLogGetAll:e=>{let a={__isValid:!1,__general:'',type:''};return e.type||(a.type+='Missing logs type. '),Object.values(l.aU).includes(e.type)||(a.type+='Wrong logs type. '),a.__isValid=i(a),a},createGalleryRecord:e=>{let a={__isValid:!1,__general:'',asset_url:'',traits:'',color_traits:''};return e.asset_url||(a.asset_url+='Missing asset url to upload. '),0===e.traits.length&&(a.traits+='Add at least one trait. '),0===e.color_traits.length&&(a.color_traits+='Add at least one color trait. '),a.__isValid=i(a),a},getGalleryRecords:e=>{let a={__isValid:!1,__general:'',asset_traits:'',asset_color_traits:'',apply_strict_filter:'',gallery_record_id:''};return Array.isArray(e.asset_traits)||(a.asset_traits+='Wrong payload type. Required array. '),Array.isArray(e.asset_color_traits)||(a.asset_color_traits+='Wrong payload type. Required array. '),a.__isValid=i(a),a},deleteAssetFromVendor:e=>{let a={__isValid:!1,__general:'',asset_id:''};return e.asset_id||(a.asset_id+='No ID of asset. '),a.__isValid=i(a),a}}}},57448:(e,a,s)=>{s.d(a,{E:()=>t});var l=s(84389);let t={utils:{GET_ANNUAL_DISCOUNT_PERCENTAGE:()=>'-'.concat(l.mc,'%'),PRICING_PLAN_VALUE_TYPE_NARROWER:e=>!!e&&!!l.AD[e],GET_DEFAULT_PRICING_PLANS_VALUE:e=>e?l.xv[e]:l.xv[l.GX],GET_PRICING_PLAN_TYPE_BY_VALUE:e=>e?[1,2,3].includes(e)?'monthly':[4,5,6].includes(e)?'annual':l.GX:l.GX,GET_BESTSELLER_BY_PRICING_TYPE:e=>l.xv[e]}}},64221:(e,a,s)=>{s.d(a,{t:()=>i});var l=s(14232),t=s(57633);let i=()=>{let{setActiveActionsButtons:e}=(0,l.useContext)(t.d);return(0,l.useEffect)(()=>()=>{e([])},[e]),e}},64603:(e,a,s)=>{s.d(a,{i:()=>i});var l=s(14232),t=s(40503);let i=()=>{let[e,a]=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{(0,t.yj)(void 0,async e=>{a(e.data)},async()=>{})},[]),{galleryConfig:e}}},69542:(e,a,s)=>{s.d(a,{X:()=>l,p:()=>t});let l=e=>'https://api.cloudinary.com/v1_1/'.concat(e,'/image/upload'),t='ml_default'},84389:(e,a,s)=>{s.d(a,{AD:()=>i,GX:()=>n,mc:()=>d,xv:()=>r});var l=s(52653);let t=Object.freeze({FREE:10,MONTHLY_1:1,MONTHLY_2:2,MONTHLY_3:3,ANNUAL_1:4,ANNUAL_2:5,ANNUAL_3:6});(0,l.X)(t);let i=Object.freeze({[t.FREE]:0,[t.MONTHLY_1]:30,[t.MONTHLY_2]:50,[t.MONTHLY_3]:100,[t.ANNUAL_1]:24,[t.ANNUAL_2]:40,[t.ANNUAL_3]:80});Array.from(Object.entries(i).keys());let r=Object.freeze({monthly:t.MONTHLY_2,annual:t.ANNUAL_3}),n='annual',d=30}}]);