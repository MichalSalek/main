try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="9849d67f-89af-4bfc-8cf7-34755000bad4",e._sentryDebugIdIdentifier="sentry-dbid-9849d67f-89af-4bfc-8cf7-34755000bad4")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{125:(e,a,s)=>{s.d(a,{O:()=>b});var t=s(37876),i=s(14232),l=s(69984),r=s(56486),n=s(42008),o=s(5820),d=s(82777),c=s(40503),_=s(45135),u=s(23317),p=s(58311),g=s(69095),m=s(74912),h=s(96781),y=s(14259),A=s(73056),v=s(62572);let x=e=>{let{title:a,shouldShowScrollArrow:s,children:l,searchValueSubscription:r}=e,[n,o]=(0,i.useState)(""),c=(0,i.useCallback)(e=>{o(e),r(_.$.utils.normalizeStringCapitalizedWords(e))},[r]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{variant:"h2",children:a}),(0,t.jsxs)(p.A,{variant:"outlined",sx:{position:"relative",overflowY:"scroll",height:"30dvh",marginBottom:A.M.spacing[4],paddingTop:0},children:[(0,t.jsx)(g.A,{value:n,onChange:e=>{c(e.target.value)},slotProps:{root:{sx:{backgroundColor:A.M.backgroundColor[1],position:"sticky",top:0,zIndex:1,padding:A.M.spacing[1]}},input:{startAdornment:(0,t.jsx)(m.A,{position:"start",children:v.H.Search({fontSize:"small"})}),endAdornment:n.length?(0,t.jsx)(m.A,{onClick:()=>{c("")},position:"start",children:v.H.Clear({fontSize:"medium"})}):void 0}}}),(0,t.jsx)(h.A,{children:l}),s&&(0,t.jsx)(y.A,{variant:"text",sx:{pointerEvents:"none",padding:0,position:"sticky",left:"100%",bottom:0},children:v.H.Scrollable({fontSize:"small"})})]})]})},b=e=>{let{selectedTraits:a,setSelectedTraits:s}=e,{galleryConfig:p,updateGalleryConfig:g,isTraitExistingInUserCollection:m,isColorTraitExistingInUserCollection:h}=(()=>{let{galleryConfig:e,updateGalleryConfig:a}=(()=>{let[e,a]=(0,i.useState)(void 0),s=(0,i.useCallback)(()=>{(0,c.yj)(void 0,async e=>{a(e.data)},async()=>{})},[]);return(0,i.useEffect)(()=>{s()},[s]),{galleryConfig:e,updateGalleryConfig:s}})(),s=(0,i.useCallback)(a=>{var s;return(null!=(s=null==e?void 0:e.records_traits)?s:[]).includes(a)},[null==e?void 0:e.records_traits]),t=(0,i.useCallback)(a=>{var s;return(null!=(s=null==e?void 0:e.records_color_traits)?s:[]).includes(a)},[null==e?void 0:e.records_color_traits]);return{galleryConfig:e,updateGalleryConfig:a,isTraitExistingInUserCollection:s,isColorTraitExistingInUserCollection:t}})(),y=(0,i.useMemo)(()=>_.$.validators.createGalleryRecord({asset_url:"",...a}),[a]),[v,b]=(0,i.useState)(""),[j,f]=(0,i.useState)(!1),E=(0,i.useCallback)((e,a,t)=>{u.l;t?s(s=>({...s,[a]:[...s[a],e]})):s(s=>({...s,[a]:[...s[a].filter(a=>a!==e)]}))},[s]),[C,N]=(0,i.useState)(""),L=(0,i.useMemo)(()=>p?null==p?void 0:p.records_traits.map(e=>e.includes(C)?(0,t.jsx)(l.A,{label:e,control:(0,t.jsx)(r.A,{size:"large",checked:a.asset_traits.includes(e),onChange:a=>E(e,"asset_traits",a.target.checked)})},e):void 0).filter(Boolean):[],[p,C,a.asset_traits,E]),[k,w]=(0,i.useState)(""),R=(0,i.useMemo)(()=>p?null==p?void 0:p.records_color_traits.map(e=>e.includes(k)?(0,t.jsx)(l.A,{label:e,control:(0,t.jsx)(r.A,{size:"large",checked:a.asset_color_traits.includes(e),onChange:a=>E(e,"asset_color_traits",a.target.checked)})},e):void 0).filter(Boolean):[],[E,k,p,a.asset_color_traits]);return(0,t.jsxs)(n.A,{children:[(0,t.jsx)(x,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{sx:{marginRight:A.M.spacing[1]},variant:y.asset_traits?"outlined":"filled",color:y.asset_traits?"primary":"success",label:a.asset_traits.length}),"Wybierz cechy stylizacji "]}),shouldShowScrollArrow:L.length>=4,searchValueSubscription:e=>{N(e)},children:L}),(0,t.jsx)(x,{title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{sx:{marginRight:A.M.spacing[1]},variant:y.asset_color_traits?"outlined":"filled",color:y.asset_color_traits?"primary":"success",label:a.asset_color_traits.length}),"Wybierz kolorystykę stylizacji "]}),shouldShowScrollArrow:R.length>=4,searchValueSubscription:e=>{w(e)},children:R}),(0,t.jsx)(d.A,{variant:"body1"})]})}},23317:(e,a,s)=>{s.d(a,{h:()=>t,l:()=>i});let t="Dodaj +",i={asset_traits:[],asset_color_traits:[]}},27272:(e,a,s)=>{s.d(a,{b:()=>n});var t=s(37876),i=s(42008),l=s(5820),r=s(73056);let n=e=>{var a;return(0,t.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:r.M.spacing[1],padding:r.M.spacing[1]},children:(null!=(a=e.values)?a:[]).map(e=>(0,t.jsx)(l.A,{color:"secondary",label:e},e))})}},27321:(e,a,s)=>{s.d(a,{B$:()=>t,V5:()=>r,Y$:()=>l,t4:()=>i});let t=.8,i=1600,l=.9,r="image/webp"},40503:(e,a,s)=>{s.d(a,{CU:()=>p,RQ:()=>u,cr:()=>c,dm:()=>_,yj:()=>d});var t=s(80767),i=s(9605),l=s(85522),r=s(89126),n=s(69542),o=s(44954);let d=async(e,a,s)=>{await (0,t.m)({config:{url:i.H.GET_GALLERY_CONFIG,mode:"get"},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})},c=async(e,a,s)=>{await (0,t.m)({config:{url:i.H.GALLERY_CREATE_TRAIT,mode:"post",payload:e},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})},_=async(e,a,s)=>{try{await (0,l.D)({url:(0,n.X)(o.h.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME),mode:"post",payload:e,fireOnSuccess:async e=>{a(e.data)},fireOnCatch:async e=>{(0,r.O)("uploadPhotoAsset_IO error",e),s(e)}})}catch(e){(0,r.O)("uploadPhotoAsset_IO",e)}},u=async(e,a,s)=>{await (0,t.m)({config:{url:i.H.CREATE_GALLERY_RECORD,mode:"post",payload:e},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})},p=async(e,a,s)=>{await (0,t.m)({config:{url:i.H.GET_GALLERY_RECORDS,mode:"post",payload:e},successCallback:async e=>{await a(e)},errorCallback:async e=>{await s(e)}})}},45135:(e,a,s)=>{s.d(a,{$:()=>r});var t=s(64611),i=s(57448);let l=e=>Object.keys(e).every(a=>"__isValid"===a||!e[a]),r={utils:{validateEmail:e=>!!e&&!!e.match(/^([\w\d._\-#])+@([\w\d._\-#]+[.][\w\d._\-#]+)+$/),validateByMinLength:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return!!e&&e.length>=a},validateByWhiteSpaces:e=>!!e&&!e.match(/\s+/g),normalizeStringEliminateWhitespaces:e=>e?e.trim().replace(/\s+/g,"").toLowerCase():"",normalizeStringCapitalizedWords:e=>e?e.replace(RegExp("[^\\p{L}\\s']","gu")," ").replace(/\s+/g," ").trim().replace(RegExp("\\b[\\p{L}']+\\b","gu"),e=>e.replace(RegExp("(^|')[\\p{L}]","gu"),e=>e.toLocaleUpperCase())):""},validators:{userRegister:e=>{let a={__isValid:!1,__general:"",email:"",password:""};return r.utils.validateEmail(null==e?void 0:e.email)||(a.email+="Check and enter correct email address. "),r.utils.validateByWhiteSpaces(null==e?void 0:e.email)||(a.email+="Remove spaces from email. "),r.utils.validateByMinLength(null==e?void 0:e.password,6)||(a.password+="Choose a more secure password - at least 6 characters. "),a.__isValid=l(a),a},checkEmail:e=>{let a={__isValid:!1,__general:"",email:""};return r.utils.validateEmail(null==e?void 0:e.email)||(a.email+="Check and enter correct email address. "),r.utils.validateByWhiteSpaces(null==e?void 0:e.email)||(a.email+="Remove spaces from email. "),a.__isValid=l(a),a},userCreate:e=>{let a={__isValid:!1,__general:"",email:""};return r.utils.validateEmail(null==e?void 0:e.email)||(a.email+="Check and enter correct email address. "),r.utils.validateByWhiteSpaces(null==e?void 0:e.email)||(a.email+="Remove spaces from email. "),a.__isValid=l(a),a},userLogin:e=>{let a={__isValid:!1,__general:"",email:"",password:""};return e.email||(a.email+="Enter email. "),e.password||(a.password+="Enter password. "),a.__isValid=l(a),a},deleteOrDisableSelfUser:e=>{let a={__isValid:!1,__general:"",password:""};return e.password||(a.password+="Enter password. "),a.__isValid=l(a),a},deleteOrDisableOtherUser:e=>{let a={__isValid:!1,__general:"",user_id:""};return 0===Object.keys(e).length&&(a.user_id+="No user identifier. "),a.__isValid=l(a),a},enableOtherUser:e=>{let a={__isValid:!1,__general:"",user_id:""};return 0===Object.keys(e).length&&(a.user_id+="No user identifier. "),a.__isValid=l(a),a},deleteSession:e=>{let a={__isValid:!1,__general:"",session_id:""};return e.session_id||(a.session_id+="Missing session ID. "),a.__isValid=l(a),a},accountDisplayNameChange:e=>{let a={__isValid:!1,__general:"",display_name:""};return e.display_name||(a.display_name+="Enter name. "),r.utils.validateByMinLength(null==e?void 0:e.display_name,3)||(a.display_name+="Name must be longer than 3 characters. "),a.__isValid=l(a),a},accountPaymentMake:e=>{let a={__isValid:!1,__general:"",payment_id:"",pricing_plan:""};return e.pricing_plan||(a.pricing_plan+="Enter pricing plan. "),i.E.utils.PRICING_PLAN_VALUE_TYPE_NARROWER(e.pricing_plan)||(a.pricing_plan+="Enter valid pricing plan. "),e.payment_id||(a.payment_id+="Enter payment ID. "),a.__isValid=l(a),a},eventLogGetAll:e=>{let a={__isValid:!1,__general:"",type:""};return e.type||(a.type+="Missing logs type. "),Object.values(t.aU).includes(e.type)||(a.type+="Wrong logs type. "),a.__isValid=l(a),a},createGalleryRecord:e=>{let a={__isValid:!1,__general:"",asset_url:"",asset_traits:"",asset_color_traits:""};return e.asset_url||(a.asset_url+="Najpierw dodaj zdjęcie. "),0===e.asset_traits.length&&(a.asset_traits+="Dodaj przynajmniej jedną cechę stylistyczną. "),0===e.asset_color_traits.length&&(a.asset_color_traits+="Dodaj przynajmniej jedną cechę kolorystyczną. "),a.__isValid=l(a),a},getGalleryRecords:e=>{let a={__isValid:!1,__general:"",asset_traits:"",asset_color_traits:"",apply_strict_filter:"",gallery_record_id:""};return Array.isArray(e.asset_traits)||(a.asset_traits+="Wrong payload type. Required array. "),Array.isArray(e.asset_color_traits)||(a.asset_color_traits+="Wrong payload type. Required array. "),a.__isValid=l(a),a},deleteAssetFromVendor:e=>{let a={__isValid:!1,__general:"",asset_id:""};return e.asset_id||(a.asset_id+="No ID of asset. "),a.__isValid=l(a),a}}}},57448:(e,a,s)=>{s.d(a,{E:()=>i});var t=s(84389);let i={utils:{GET_ANNUAL_DISCOUNT_PERCENTAGE:()=>"-".concat(t.mc,"%"),PRICING_PLAN_VALUE_TYPE_NARROWER:e=>!!e&&!!t.AD[e],GET_DEFAULT_PRICING_PLANS_VALUE:e=>e?t.xv[e]:t.xv[t.GX],GET_PRICING_PLAN_TYPE_BY_VALUE:e=>e?[1,2,3].includes(e)?"monthly":[4,5,6].includes(e)?"annual":t.GX:t.GX,GET_BESTSELLER_BY_PRICING_TYPE:e=>t.xv[e]}}},64221:(e,a,s)=>{s.d(a,{t:()=>l});var t=s(14232),i=s(57633);let l=()=>{let{setActiveActionsButtons:e}=(0,t.useContext)(i.d);return(0,t.useEffect)(()=>()=>{e([])},[e]),e}},69542:(e,a,s)=>{s.d(a,{X:()=>t,p:()=>i});let t=e=>"https://api.cloudinary.com/v1_1/".concat(e,"/image/upload"),i="ml_default"},77046:(e,a,s)=>{s.d(a,{j:()=>x});var t=s(37876),i=s(42008),l=s(40359),r=s(28604),n=s(58311),o=s(80139),d=s(96726),c=s(8100),_=s(57798),u=s(82777),p=s(14259),g=s(27272),m=s(73056),h=s(27321),y=s(62572),A=s(48566);let v=e=>{let{asset_url:a,cropActionCallback:s,loadPhotoActionCallback:d}=e;return(0,t.jsx)(i.A,{sx:{position:"relative"},children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:a,width:"100%",height:"auto",alt:"",fetchPriority:"high",decoding:"async",loading:"lazy",style:{aspectRatio:h.B$}}),(0,A.pN)(s)?void 0:(0,t.jsxs)(l.A,{sx:{position:"absolute",bottom:m.M.spacing[2],right:m.M.spacing[2],gap:m.M.spacing[1]},children:[(0,t.jsx)(r.A,{size:"small",color:"info",onClick:d,children:y.H.AddPhoto({color:"inherit",fontSize:"medium"})}),(0,t.jsx)(r.A,{size:"small",color:"info",onClick:s,children:y.H.Crop({color:"inherit",fontSize:"medium"})})]})]}):(0,t.jsxs)(n.A,{variant:"elevation",children:[(0,t.jsx)(o.A,{animation:"pulse",height:"50dvh",variant:"rectangular",onClick:d}),y.H.AddPhoto({color:"info",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]})})},x=e=>{let{el:a,shouldShowCardContent:s=!0,...l}=e;return(0,t.jsx)(i.A,{children:(0,t.jsxs)(d.A,{sx:{minWidth:"100%"},variant:"outlined",children:[(0,t.jsx)(c.A,{children:(0,t.jsx)(v,{asset_url:a.asset_url,...l})}),(0,t.jsxs)(_.A,{onClick:l.editTraitsCallback,sx:{position:"relative",display:s?void 0:"none"},children:[(0,t.jsx)(u.A,{variant:"body1",sx:{color:"text.secondary"},children:"Cechy"}),(0,t.jsx)(i.A,{children:(0,t.jsx)(g.b,{values:a.asset_traits})}),(0,t.jsx)(u.A,{variant:"body1",sx:{color:"text.secondary"},children:"Kolorystyka"}),(0,t.jsx)(i.A,{children:(0,t.jsx)(g.b,{values:a.asset_color_traits})}),l.editTraitsCallback&&(0,t.jsx)(p.A,{size:"small",variant:"text",sx:{pointerEvents:"none",padding:0,position:"absolute",top:m.M.spacing[2],right:m.M.spacing[2]},children:y.H.Edit({})})]})," "]})})}},84389:(e,a,s)=>{s.d(a,{AD:()=>l,GX:()=>n,mc:()=>o,xv:()=>r});var t=s(52653);let i=Object.freeze({FREE:10,MONTHLY_1:1,MONTHLY_2:2,MONTHLY_3:3,ANNUAL_1:4,ANNUAL_2:5,ANNUAL_3:6});(0,t.X)(i);let l=Object.freeze({[i.FREE]:0,[i.MONTHLY_1]:30,[i.MONTHLY_2]:50,[i.MONTHLY_3]:100,[i.ANNUAL_1]:24,[i.ANNUAL_2]:40,[i.ANNUAL_3]:80});Array.from(Object.entries(l).keys());let r=Object.freeze({monthly:i.MONTHLY_2,annual:i.ANNUAL_3}),n="annual",o=30}}]);